__section__
default
__description__
__title__

__page__
misc
__lang__
en_US
__name__
prefs_fhlayout
__template__

<form id ="modal_prefs" class="fh" method="post">

<input type="hidden" name="formname" value="fhlayout">
<input type="hidden" name="uid" value="[% user.uid %]">
<input type="hidden" name="refreshable" value="">

                [% IF tabbed == 1 %]
                <div class="pref">
                <span class="preftab active">Layout</span>
                <span class="preftab"><a href="javascript:return false;" onclick="getModalPrefs('fhexclusions', 'Exclusions', 1); return false;">Exclusions</a></span>
		[% fh = Slash.getObject("Slash::FireHose");
		   views = fh.getUserViews({ tab_display => "yes" });
		%]
		[% FOREACH view = views %]
	                <span class="preftab"><a href="javascript:return false;" onclick="getModalPrefs('fhview[% view.viewname %]', 'Customize [% view.viewtitle %] View', 1); return false;">[% view.viewtitle %]</a></span>
		[% END %]
				<span class="close"><a onclick="hide_modal_box(); return false" >x</a></span>
                </div>
                [% END %]
		[% 
                IF user.index_beta;
                        beta_check = constants.markup_checked_attribute;
                END;
		%]
				<p><label style="background:#FFFF99;-moz-border-radius:.25em;-webkit-border-radius:.25em;padding:.5em"><input type="checkbox" name="index_beta"[% beta_check %]> Use Beta Index</label></p>
				<p>
                <label>Date/Time Format
                [%
                formats = Slash.db.getDescriptions('dateformats');
                Slash.createSelect('tzformat', formats, user.dfid, 1);
                %]
                </label></p>
                <p>
                <label>
				Time Zone / Daylight Savings Time
                [%
                USE this_format = format('%+0.4d %s');
                this_tzdescs = Slash.db.getDescriptions('tzdescription');
                this_tzcodes = Slash.db.getDescriptions('tzcodes');
                these_tzdescs = {};
                FOREACH tz = this_tzcodes.keys;
                        this_num = this_tzcodes.$tz / 36;
                        this_num = this_num.replace('50$', '30');
                        these_tzdescs.$tz = this_format(this_num, this_tzdescs.$tz);
                END;

                this_tzcode = user.tzcode_orig || user.tzcode;
                Slash.createSelect('tzcode',
                        these_tzdescs, this_tzcode, 1, 0, this_tzcodes.nsort
                );
				%]</label>[%
                Slash.createSelect('dst', {
                        ''      => 'Automatic',
                        'on'    => 'Manual (On)',
                        'off'   => 'Manual (Off)'
                }, user.dst, 1);
                %]

                </p>

                [% sd_check = '';
                IF user.simpledesign;
                        sd_check = constants.markup_checked_attribute;
                END
                %]
<!--
                <label><input type="checkbox" name="simpledesign"[% sd_check %]> <b>Simple Design</b></label>&nbsp;<a href="#" onclick="displayModalPrefHelp('modalprefhelp_simpledesign');" class="help">?</a>
                <br>
                <div id="modalprefhelp_simpledesign" class="modalprefhelp" style="display: none;">
                        Simplifies the design of [% constants.sitename %] to strip away some of the excesses of the UI.
                </div>

                <br>

                [% lb_check = '';
                IF user.lowbandwidth;
                        lb_check = constants.markup_checked_attribute;
                END
                %]

                <label><input type="checkbox" name="lowbandwidth"[% lb_check %]> <b>Low Bandwidth</b></label>&nbsp;<a href="#" onclick="displayModalPrefHelp('modalprefhelp_lowbandwidth');" class="help">?</a>
                <br>
                <div id="modalprefhelp_lowbandwidth" class="modalprefhelp" style="display: none;">
                        Reduces the size of pages for people with slower network connections
                </div>

                <br>

-->
                [% i_check = '';
                IF !user.noicons;
                        i_check = constants.markup_checked_attribute;
                END
                %]

                <label><input type="checkbox" name="showicons"[% i_check %]> Show Icons</label> <a href="#" onclick="displayModalPrefHelp('modalprefhelp_showicons');return false;" class="help">?</a>
                <br>
                <div id="modalprefhelp_showicons" class="modalprefhelp" style="display: none;">
                        Turn this off to hide topic icons on stories
                </div>

                [% tag_check = '';
                IF !user.tags_turnedoff;
                        tag_check = constants.markup_checked_attribute;
                END
                %]

                <label><input type="checkbox" name="showtags"[%tag_check %]> Show Tags</label> <a href="#" onclick="displayModalPrefHelp('modalprefhelp_showtags');return false;" class="help">?</a>
                <br>
                <div id="modalprefhelp_showtags" class="modalprefhelp" style="display: none;">
                        Turn this off to ignore all tags.
                </div>
                
				[% colors_check = '';
                IF !user.firehose_nocolors;
                        colors_check = constants.markup_checked_attribute;
                END
                %]

                <label><input type="checkbox" name="showcolors"[%tag_check %]> Show Colors</label> <a href="#" onclick="displayModalPrefHelp('modalprefhelp_showcolors');return false;" class="help">?</a>
                <br>
                <div id="modalprefhelp_showcolors" class="modalprefhelp" style="display: none;">
                        Turn this off to hide color swatches on items.
                </div>

		[% bylines_check = '';
                IF !user.firehose_nobylines;
                        bylines_check = constants.markup_checked_attribute;
                END
                %]

                <label><input type="checkbox" name="showbylines"[% bylines_check %]> Show Bylines</label> <a href="#" onclick="displayModalPrefHelp('modalprefhelp_showbylines');return false;" class="help">?</a>
                <br>
                <div id="modalprefhelp_showbylines" class="modalprefhelp" style="display: none;">
                        Turn this off to hide user bylines on items.
                </div>
		
		[% dates_check = '';
                IF !user.firehose_nobdates;
                        dateses_check = constants.markup_checked_attribute;
                END
                %]

                <label><input type="checkbox" name="showdates"[% dates_check %]> Show Dates</label> <a href="#" onclick="displayModalPrefHelp('modalprefhelp_showdates');return false;" class="help">?</a>
                <br>
                <div id="modalprefhelp_showdates" class="modalprefhelp" style="display: none;">
                        Turn this off to hide dates on abbreviated items
                </div>

		[% default = user.firehose_pagesize || "small" %]
		[% pagesizes = { 'small' => 'Small', 'large' => 'Large'} %]
		[% IF user.is_admin; pagesizes.single = "Single"; END %]
		<label>Page size</label> [% Slash.createSelect('pagesize', pagesizes, { default => default, return => 1} ) %]<br>
		[% pause_check = '';
                IF user.firehose_pause || !user.firehose_pause.defined;
                        pause_check = constants.markup_checked_attribute;
                END
                %]

                <label><input type="checkbox" name="paused"[% pause_check %]>
		Paused</label> <a href="#" onclick="displayModalPrefHelp('modalprefhelp_pause');return false;" class="help">?</a>
                <br>
                <div id="modalprefhelp_pause" class="modalprefhelp" style="display: none;">
                        Pause updates, don't auto-update view
                </div>
		
		[% advanced_check = '';
                IF user.firehose_advanced;
                        advanced_check = constants.markup_checked_attribute;
                END
                %]

                <label><input type="checkbox" name="advanced"[% advanced_check %]> Advanced</label> <a href="#" onclick="displayModalPrefHelp('modalprefhelp_advanced');return false;" class="help">?</a>
                <br>
                <div id="modalprefhelp_advanced" class="modalprefhelp" style="display: none;">
                        Enable advanced user controls
                </div>
		

		<p class="buttons">
        <input type="button" value="Save" onclick="saveModalPrefs()">
		<input type="button" value="Cancel" onclick="hide_modal_box()">
		<input type="button" value="Reset Layout" onclick="resetModalPrefs()">
		<input type="button" value="Reset Section Menu" onclick="resetModalPrefs('resetsectionmenu')">
		</p>
</form>
__seclev__
500
__version__
$Id$
